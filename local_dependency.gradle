

ext.localProjectMap = loadLocalProperties()
if(ext.localProjectMap != null){
    def projectStrings = ext.localProjectMap.get("local_project") // read key-value from Properties
    println("$projectStrings")
    def projects = projectStrings.split(",")
    for(def project: projects){
        println("$project")
    }
    def baseDir = "${rootDir.parent}"// parent dir of project
    println("$baseDir")
}

// load local.properties into Properties
Properties loadLocalProperties() {
    def properties = new Properties()
    File file = new File(rootDir, "local.properties")
    if (file.exists()) {
        properties.load(file.newDataInputStream())
        if ("true" == properties.getProperty("local_compile")) {
            return properties
        }
    }
    return null
}