ext.localPropertiesMap = loadLocalProperties()
ext.localProjectsMap = new HashMap<String, String>()
if (ext.localPropertiesMap != null) {
    def projectStrings = ext.localPropertiesMap.get("local_project")
    // read key-value from Properties
    println("$projectStrings")
    def projects = projectStrings.split(",")
    for (def project : projects) {
        println("load project:$project")
        ext.localProjectsMap.put(":$project",project)// keep project name in map
    }
    def baseDir = "${rootDir.parent}"// parent dir of project
    println("$baseDir")
}

// load local.properties into Properties
Properties loadLocalProperties() {
    def properties = new Properties()
    File file = new File(rootDir, "local.properties")
    if (file.exists()) {
        properties.load(file.newDataInputStream())
        if ("true" == properties.getProperty("local_compile")) {
            return properties
        }
    }
    return null
}